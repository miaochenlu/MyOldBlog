---
layout: post

title: "计网"

date: 2019-09-06 15:43:05 +0800

categories: jekyll update

---
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
inlineMath: [['$','$']]
}
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
inlineMath: [['$','$']]
}
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
# <center>计算机网络和因特网</center>





# 1 什么是因特网

## 1.1 具体构成描述

**端系统（主机）**通过**通信链路**和**分组交换机**连接到一起

链路：**传输速率** bit/s(bps)

分组交换机：

> 路由器：通常用于网络核心

>  链路层交换机：通常用于接入网中



#### 传输过程

当一台端系统要向另一台端系统发送数据时，发送端将数据分段，并为每段加上首部字节，这样形成的信息包叫 **分组**  

这些分组通过网络发送到目的端系统，在那里被装配成初始数据. 

分组交换机从他的一条入通信链路接受到达的分组，并从他的一条出通信链路转发该分组。从发送端到接受端系统，一个分组所经历的一系列通信链路和分组交换机称为通过该网络的**路径. 

<br/>

端系统通过ISP(Internet Service Provider)接入互联网。每个ISP是一个由多个分组交换机和多段通信链路组成的网络。





端系统、分组交换机和其他因特网部件都要运行一系列协议，控制信息的接收和发送。

**TCP(Transmission Control Protocol)/IP(Internet Protocol)**



<br/>

<br/>

## 1.2 服务描述

前面是从组成的角度来了解因特网

下面从完全不同的角度：从***为应用程序提供服务的基础设施的角度***

应用程序包括电子邮件、Web冲浪、社交网络等。他们设计多台相互交换数据等端系统，被称为  **分布式应用程序 ** 

因特网应用程序运行在端系统上，不运行在网络核心中的分组交换机中，他们不关心作为数据的源或宿的应用程序. 



## 1.3 什么是协议

![image-20190905153800703](http://miaochenlu.github.io/picture/image-20190905153800703.png)

`一个协议定义了在两个或多个通讯实体之间交换的报文格式和次序，以及报文发送和/或接受一条报文火其他事件所采取的动作。`

如右图所示

* 首先，你的计算机向Web服务器发送一条请求报文，并等待回答

* 该Web服务器接受到连接请求报文，并返回一条连接相应报文

* 得知请求该Web文档正常以后，计算机在一条GET报文中发送要从这台Web服务器上取回到网页名字

* 最后，Web服务器向计算机返回该Web网页（文件）



# 2 网络边缘

端系统（主机）：

​		客户：非正式等同于桌面PC，移动PC，智能手机

​		服务器：非正式等同于强大的机器，存储发布Web页面、流视频等



## 2.1接入网

**是什么**?

>  指将端系统连接到其边缘路由器的物理链路



**不同类型的接入**

* 家庭接入：DSL、电缆、FTTH、拨号和卫星

* 企业（和家庭）接入：以太网和WIFI
* 广域网无线接入：3G和LTE



## 2.2 物理媒介

$传输器\overset{物理媒介}{\Rightarrow}接收器$



# 3 网络核心

考察了网络边缘后，我们现在讨论网络核心。

网络核心是由互联网端系统分组交换机和链路构成的网状网络

下图粗线部分就是网络核心

<img src="/Users/jones/Library/Application Support/typora-user-images/image-20190911202459808.png" alt="image-20190911202459808" style="zoom:67%;" />

## 3.1 分组交换(packet switching)

端系统彼此交换**报文**(message). 

将报文划分成小数据块（**分组**packet）

分组从源出发，经过通信链路和分组交换机到达目的地

<br/>

一点小小的计算：端系统或者分组交换机经过一条链路发送一个L比特的分组，链路传输速率为R bit/s,则传输该分组的时间为 $L/R$ s.



### 3.1.1 存储转发传输(store and forward transmission)

多数分组交换机在链路的输入端使用***存储转发传输***机制



什么是存储转发机制？ 

>  在交换机能够开始向输出链路传输该分组的第一个比特之前，必须接受到整个分组

如下图所示

<img src="/Users/jones/Library/Application Support/typora-user-images/image-20190911202550391.png" alt="image-20190911202550391" style="zoom:50%;" />

下面计算一下从源开始发送分组到目的地收到整个分组所经过的时间：

> 从时刻0开始传输
>
> 在时刻$L/R$,路由器刚好接受到一个分组（前面有计算），并且开始朝目的地传输分组，源也开始发送第二个分组
>
> 在时刻$2L/R$,目的地接受到一个分组，路由器接受到新的一个分组，源开始发送第三个分组



Let’s now consider the general case of sending one packet from source to desti- nation over a path consisting of *N* links each of rate *R* (thus, there are *N*-1 routers between source and destination).

端到端时延
$$
d_{端到端}=N\frac{L}{R}
$$


### 3.1.2 排队时延和分组丢失

每个分组交换机有多条链路和他相连

对于每一条链路， 分组交换机有一个***输出缓存***（输出队列），他用于存储路由器准备发往那条链路的分组

 

为什么产生排队时延？

如果到达的分组需要传输到某一条链路，但发现这条链路正在传输其他分组，那么这个分组需要在输出缓存中等待，所以分组除了存储转发时延外，还要承受排队时延



时延是变化的，取决于网络中的拥塞程度。

而且缓存空间是有限的，如果一个分组到达之后发现缓存已经被其他分组充满了，这时候会出现***分组丢失（丢包***），到达的分组或者已经排队的分组之一将会被丢弃



